apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: brainlens-ingress
  namespace: brainlens
  annotations:
    # Remove SSL redirect for now (can add later with cert-manager)
    # nginx.ingress.kubernetes.io/ssl-redirect: "true"
    # cert-manager.io/cluster-issuer: "letsencrypt-prod"
spec:
  ingressClassName: nginx
  # Remove TLS for now (will use HTTP)
  # tls:
  # - hosts:
  #   - brainlens.yourdomain.com
  #   secretName: brainlens-tls
  rules:
  # Use wildcard host to accept any domain/IP
  - host: ""  # Empty host accepts all
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: frontend-service
            port:
              number: 3000
      - path: /api/v1/auth
        pathType: Prefix
        backend:
          service:
            name: auth-service
            port:
              number: 8001
      - path: /api/v1/images
        pathType: Prefix
        backend:
          service:
            name: image-service
            port:
              number: 8002
      - path: /api/v1/annotations
        pathType: Prefix
        backend:
          service:
            name: annotation-service
            port:
              number: 8003
      - path: /api/v1/colab
        pathType: Prefix
        backend:
          service:
            name: colab-service
            port:
              number: 8004